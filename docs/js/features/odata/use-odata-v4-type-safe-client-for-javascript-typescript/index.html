<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="search" type="application/opensearchdescription+xml" title="SAP Cloud SDK" href="/cloud-sdk/opensearch.xml">
<script src="https://sap.github.io/cloud-sdk/js/swa.js"></script><title data-react-helmet="true">Use the OData v4 Client | SAP Cloud SDK</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Use the OData v4 Client | SAP Cloud SDK"><meta data-react-helmet="true" name="description" content="Use the SAP Cloud SDK for JavaScript to build and run OData v4 requests in a type-safe way."><meta data-react-helmet="true" property="og:description" content="Use the SAP Cloud SDK for JavaScript to build and run OData v4 requests in a type-safe way."><meta data-react-helmet="true" name="keywords" content="sap,cloud,sdk,odata,JavaScript,TypeScript,consume"><meta data-react-helmet="true" property="og:url" content="https://github.com/SAP/cloud-sdk/cloud-sdk/docs/js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript"><link data-react-helmet="true" rel="shortcut icon" href="/cloud-sdk/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://github.com/SAP/cloud-sdk/cloud-sdk/docs/js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript"><link rel="stylesheet" href="/cloud-sdk/styles.ab089911.css">
<link rel="preload" href="/cloud-sdk/styles.d66fa4a3.js" as="script">
<link rel="preload" href="/cloud-sdk/runtime~main.8e1a6a89.js" as="script">
<link rel="preload" href="/cloud-sdk/main.ca26d32b.js" as="script">
<link rel="preload" href="/cloud-sdk/1.ae6ecd5e.js" as="script">
<link rel="preload" href="/cloud-sdk/125.78fcdb21.js" as="script">
<link rel="preload" href="/cloud-sdk/129.8e8f09f8.js" as="script">
<link rel="preload" href="/cloud-sdk/935f2afb.433c92dd.js" as="script">
<link rel="preload" href="/cloud-sdk/124.576520c0.js" as="script">
<link rel="preload" href="/cloud-sdk/fbc0e000.d6299e4e.js" as="script">
<link rel="preload" href="/cloud-sdk/df104755.25693c91.js" as="script">
<link rel="preload" href="/cloud-sdk/fdfdad92.ed611d28.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/cloud-sdk/"><img src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/cloud-sdk/img/logo-dark.svg" alt="SAP Cloud SDK" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">SAP Cloud SDK</strong></a><a class="navbar__item navbar__link" href="/cloud-sdk/docs/overview/overview-cloud-sdk">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Support</a><ul class="dropdown__menu"><li><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="dropdown__link">Stack Overflow</a></li><li><a href="https://github.com/SAP/cloud-sdk-js/issues/new/choose" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub JavaScript</a></li><li><a href="https://github.com/SAP/cloud-sdk/issues/new?assignees=&amp;labels=Java&amp;template=sap-cloud-sdk-for-java-issue.md&amp;title=" target="_blank" rel="noopener noreferrer" class="dropdown__link"> GitHub Java</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/overview/get-support">Support Details</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Release Notes</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java">Java</a></li><li><a href="https://github.com/SAP/cloud-sdk-js/releases" target="_blank" rel="noopener noreferrer" class="dropdown__link">JS/TS Core</a></li><li><a class="dropdown__link" href="/cloud-sdk/docs/js/release-notes-sap-cloud-sdk-for-javascript-and-typescript">JS/TS Client Libraries</a></li></ul></div><a href="https://search.maven.org/search?q=g:com.sap.cloud.sdk*" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Maven Central</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">npm</a><ul class="dropdown__menu"><li><a href="https://www.npmjs.com/search?q=sap-cloud-sdk*" target="_blank" rel="noopener noreferrer" class="dropdown__link">Core Modules</a></li><li><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-vdm*" target="_blank" rel="noopener noreferrer" class="dropdown__link">SAP S/4HANA Cloud</a></li><li><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-op*" target="_blank" rel="noopener noreferrer" class="dropdown__link">SAP S/4HANA On-Premise</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/cloud-sdk/"><img src="/cloud-sdk/img/logo.svg" alt="SAP Cloud SDK" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/cloud-sdk/img/logo-dark.svg" alt="SAP Cloud SDK" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">SAP Cloud SDK</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/overview/overview-cloud-sdk">Docs</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Support</a><ul class="menu__list"><li class="menu__list-item"><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="menu__link">Stack Overflow</a></li><li class="menu__list-item"><a href="https://github.com/SAP/cloud-sdk-js/issues/new/choose" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub JavaScript</a></li><li class="menu__list-item"><a href="https://github.com/SAP/cloud-sdk/issues/new?assignees=&amp;labels=Java&amp;template=sap-cloud-sdk-for-java-issue.md&amp;title=" target="_blank" rel="noopener noreferrer" class="menu__link"> GitHub Java</a></li><li class="menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/overview/get-support">Support Details</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Release Notes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java">Java</a></li><li class="menu__list-item"><a href="https://github.com/SAP/cloud-sdk-js/releases" target="_blank" rel="noopener noreferrer" class="menu__link">JS/TS Core</a></li><li class="menu__list-item"><a class="menu__link" href="/cloud-sdk/docs/js/release-notes-sap-cloud-sdk-for-javascript-and-typescript">JS/TS Client Libraries</a></li></ul></li><li class="menu__list-item"><a href="https://search.maven.org/search?q=g:com.sap.cloud.sdk*" target="_blank" rel="noopener noreferrer" class="menu__link">Maven Central</a></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">npm</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.npmjs.com/search?q=sap-cloud-sdk*" target="_blank" rel="noopener noreferrer" class="menu__link">Core Modules</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-vdm*" target="_blank" rel="noopener noreferrer" class="menu__link">SAP S/4HANA Cloud</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/search?q=sap%2Fsap-cloud-op*" target="_blank" rel="noopener noreferrer" class="menu__link">SAP S/4HANA On-Premise</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/overview-cloud-sdk">About the SAP Cloud SDK</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/getting-started">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/benefits">Benefits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/who-uses-sap-cloud-sdk">Who Uses the SAP Cloud SDK?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/frequently-asked-questions-about-sap-cloud-sdk">FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/overview/get-support">Get Support</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/overview-cloud-sdk-for-java">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/getting-started">Getting started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Features</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">OData</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/odata/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/odata/generate-typed-odata-v2-and-v4-client-for-java">Generate a Typed OData Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/odata/use-typed-odata-v2-client-in-sap-cloud-sdk-for-java">OData v2 Typed Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/odata/use-typed-odata-v4-client-in-sap-cloud-sdk-for-java">OData v4 Typed Client</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">REST</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/rest/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/rest/generate-rest-client">Generate Typed REST Client</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Released Clients</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/rest/clients/scp-workflow-rest-api">SCP Workflow API</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/bapi-and-rfc/bapi-and-rfc-overview">BAPI/RFC</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Connectivity</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/connectivity/sdk-connectivity-destination-service">Destinations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/connectivity/sdk-connectivity-http-client">HttpClient</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Multitenancy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/multi-tenancy/multi-tenancy-thread-context">Thread Context</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Resilience &amp; Caching</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/resilience/resilience">Resilience</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/resilience/caching">Caching</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SDK Extensions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/extensions/extensions-supported-by-sap-cloud-sdk-for-java">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Extension Library</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/features/extensions/extension-library/curconv/sap-currency-conversion-extension-library-for-cloud-sdk-for-java">Currency Conversion</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/cf-cli">Cloud Foundry CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/cf-deploy">Deploy to Cloud Foundry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/cloud-foundry-xsuaa-service">CF XSUAA Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/manage-dependencies">Dependency Management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/logging-overview">Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/tutorial-overview-sdk-java">Tutorials Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/sap-cloud-sdk-linux-how-to">SAP Cloud SDK on Linux</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/guides/cap-sdk-integration">Integration With CAP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Video Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/video/video-tutorial-about-getting-started-with-sap-cloud-sdk-for-java">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/video/video-tutorial-about-type-safe-client-generator-for-odata-with-sap-cloud-sdk-for-java">Generate OData Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/video/video-tutorial-about-connectivity--for-odata-with-sap-cloud-sdk-for-java">Destinations and Cloud Connector</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/video/video-tutorial-about-calling-odata-v4-services-via-type-safe-client">Use OData v4 Client</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/sdk-java-troubleshooting-frequent-problems">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/release-notes-sap-cloud-sdk-for-java">Release Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/java/frequently-asked-questions">FAQ</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">JavaScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/overview-cloud-sdk-for-javascript">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">OData</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/features/odata/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/features/odata/generate-odata-client">Generate an OData Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/features/odata/execute-odata-request">Execute an OData request</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/features/odata/use-odata-v2-type-safe-client-for-javascript-typescript">OData v2 Client API</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/cloud-sdk/docs/js/features/odata/use-odata-v4-type-safe-client-for-javascript-typescript">OData v4 Client API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Connectivity</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/features/connectivity/destination">Destinations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/features/connectivity/proxy">Proxies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/features/connectivity/generic-http-client">Generic HTTP Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/features/connectivity/on-premise">On-Premise Systems</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">OpenAPI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/features/openapi/overview">OpenAPI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/features/openapi/generate-openapi-client">Generate an OpenAPI Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/features/openapi/execute-openapi-request">Execute an OpenAPI Request</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/guides/migrate-to-open-source-version-of-cloud-sdk-for-javascript-typescript">Migrate to Open Source</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/guides/bas-external-system">Connecting to External Systems from BAS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/guides/tutorial-overview-sdk-js">Tutorials Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/guides/sdk-in-browser">Use the SAP Cloud SDK in the Browser</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Video Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/js/video/demo-of-cloud-sdk-for-javascript-with-calm-and-cap">SAP Cloud SDK &amp; CAP</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/api">API Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/release-notes-sap-cloud-sdk-for-javascript-and-typescript">Release Notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cloud-sdk/docs/js/frequently-asked-questions">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Community</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/community/community-call">Community Call</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Related Projects</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/related-projects/cloud-application-model">Cloud Application Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/related-projects/sap-xsuaa-security-library-for-javascript-and-java">XSUAA Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/cloud-sdk/docs/related-projects/project-piper">Project &quot;Piper&quot;</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Use the OData v4 Client</h1></header><div class="markdown"><p>In the following, the OData v4 features supported by the SAP Cloud SDK are explained.</p><p>For more details on <strong>how to execute requests</strong> using a (pre-)generated OData client refer to <a href="/cloud-sdk/docs/js/features/odata/execute-odata-request">this documentation</a>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In the following code examples sometimes the business-partner service is used.
This is a v2 service, but the listed examples are identical for OData v2 and v4.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getall-request-builder"></a>GetAll Request Builder<a class="hash-link" href="#getall-request-builder" title="Direct link to heading">#</a></h2><p>The GetAll request builder allows you to create a request to retrieve all entities that match the request configuration.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The example above creates a request to get all <code>BusinessPartner</code> entities.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="select"></a>Select<a class="hash-link" href="#select" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>When reading entities, the API offers <code>select( ... )</code> on the builders.
Note that for OData v4 a <code>select</code> does not automatically expand navigation properties.
See <a href="#expand-and-select">here</a> for details on select and expand.
For non navigational property the <code>select</code> behaves as follows:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">LAST_NAME</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The above translates to the following query parameters:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sql codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$</span><span class="token keyword" style="color:#00009f">select</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">FirstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">LastName</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="filter"></a>Filter<a class="hash-link" href="#filter" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>When operating on a collection of entities the API offers <code>filter( ... )</code> on the builders.
It directly corresponds to the <code>$filter</code> parameter of the request.
Filters are also built via the static property fields on entities:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  Get all business partners that either:</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    - Have first name &#x27;Alice&#x27; but not last name &#x27;Bob&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    - Or have first name &#x27;Mallory&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">or</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">and</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Alice&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">LAST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">notEquals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Bob&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Mallory&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The example above will translate to this filter parameter:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sql codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$filter</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">FirstName eq </span><span class="token string" style="color:#e3116c">&#x27;Alice&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">and</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LastName ne </span><span class="token string" style="color:#e3116c">&#x27;Bob&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">or</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">FirstName eq </span><span class="token string" style="color:#e3116c">&#x27;Mallory&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Take note of the order of <code>and</code> and <code>or</code>.
As <code>or</code> is invoked on the result of <code>and</code> it will form the outer expression while <code>and</code> is an inner expression in the first branch of <code>or</code>.</p><p>It is also possible to pass multiple filters to the same filter function without concatenating them with <code>and</code> or <code>or</code>.
They will be concatenated with <code>and</code> by default.
The two following examples are equal:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">and</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Alice&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">LAST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">notEquals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Bob&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The example above can be shortened to:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Alice&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">LAST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">notEquals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Bob&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="filter-on-one-to-one-navigation-properties"></a>Filter on One-to-One Navigation Properties<a class="hash-link" href="#filter-on-one-to-one-navigation-properties" title="Direct link to heading">#</a></h4><p>{&quot; &quot;}</p><p>In addition to basic properties, filters can also be applied on one-to-one navigation properties.
The example below shows how to filter on the <code>TO_CUSTOMER</code>, which is a one-to-one navigation property of the BusinessPartner entity.
Please note, the <code>CUSTOMER_NAME</code> and <code>CUSTOMER_FULL_NAME</code> are properties of the entity <code>Customer</code>, which is the type of the one-to-one navigation property <code>TO_CUSTOMER</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  Get all business partners that match all the following conditions:</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    - Have customer with the customer name &#x27;name&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    - Have customer with the customer full name &#x27;fullName&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TO_CUSTOMER</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">Customer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">CUSTOMER_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">Customer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">CUSTOMER_FULL_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;fullName&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The generated <code>$filter</code> will be:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sql codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$filter</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">to_Customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">CustomerName eq </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">and</span><span class="token plain"> to_Customer</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">CustomerFullName eq </span><span class="token string" style="color:#e3116c">&#x27;fullName&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="filter-on-one-to-many-navigation-properties"></a>Filter on One-to-Many Navigation Properties<a class="hash-link" href="#filter-on-one-to-many-navigation-properties" title="Direct link to heading">#</a></h4><p>{&quot; &quot;}</p><p>OData V4 introduces <a href="http://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part2-url-conventions.html#sec_LambdaOperators" target="_blank" rel="noopener noreferrer">lambda operators</a> e.g., <code>any</code>/<code>all</code>, so that the root property of the one-to-many navigation properties can be filtered.
Below is an example that demonstrates how to use the lambda operator <a href="/cloud-sdk/api/1.28.1/modules/sap_cloud_sdk_core#any" target="_blank" rel="noopener noreferrer">any</a>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  Get all people that have at least one friend that matches all the following conditions:</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    - Has first name &#x27;firstName&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    - Has last name &#x27;lastName&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">any</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FRIENDS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;firstName&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">LAST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;lastName&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The generated <code>$filter</code> parameter of the URL will be:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sql codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">$filter</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">/</span><span class="token keyword" style="color:#00009f">any</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a0:</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">Friends</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">FirstName eq </span><span class="token string" style="color:#e3116c">&#x27;firstName&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">and</span><span class="token plain"> a0</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">Friends</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">LastName eq </span><span class="token string" style="color:#e3116c">&#x27;lastName&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="more-filter-expressions"></a>More Filter Expressions<a class="hash-link" href="#more-filter-expressions" title="Direct link to heading">#</a></h4><p>More advanced filter expressions can be found <a href="#available-filter-expressions">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="expand"></a>Expand<a class="hash-link" href="#expand" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="expand-and-select"></a>Expand and Select <a name="expand-and-select"></a><a class="hash-link" href="#expand-and-select" title="Direct link to heading">#</a></h4><p>{&quot; &quot;}</p><p>In contrast to the OData v2 implementation, you have to <code>select</code> and <code>expand</code> separately.
In other words selected properties are not expanded automatically as in v2.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">LAST_NAME</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FRIENDS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">ADDRESS_INFO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In the example above you select the <code>LAST_NAME</code> of the root entity and expand the navigation property <code>FRIENDS</code>.
In the expanded entity the selected fields are <code>FIRST_NAME</code> and <code>ADDRESS_INFO</code>.</p><p>The generated URL for this request will be:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sql codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">/</span><span class="token plain">People?$</span><span class="token keyword" style="color:#00009f">select</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">LastName</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">$expand</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Friends</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$</span><span class="token keyword" style="color:#00009f">select</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">FirstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">AddressInfo</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>If no <code>select</code> is given, all non-navigational properties are included in the response.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="sub-queries-in-expand"></a>Sub-Queries in Expand<a class="hash-link" href="#sub-queries-in-expand" title="Direct link to heading">#</a></h4><p>{&quot; &quot;}</p><p>Note that you can create very complex queries within the expand scope:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FRIENDS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">select</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">ADDRESS_INFO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">LAST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Miller&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">orderBy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">asc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">GENDER</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">top</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">skip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In this example, the filter will reduce the friends to be shown.
The effect of a filter depends on whether it is used in or outside of an <code>expand</code>.
The different cases are explained in <a href="#filterParentChildren">Filters in Expand.</a></p><p>The URL for the query will be:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-sql codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">/</span><span class="token plain">People?$expand</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Friends</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">$</span><span class="token keyword" style="color:#00009f">select</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">FirstName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">AddressInfo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">$filter</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">LastName eq </span><span class="token string" style="color:#e3116c">&#x27;Miller&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">$skip</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">$</span><span class="token keyword" style="color:#00009f">top</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">$orderby</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Gender </span><span class="token keyword" style="color:#00009f">asc</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="filter-parent-vs-filter-children"></a>Filter Parent vs Filter Children <a name="filterParentChildren"></a><a class="hash-link" href="#filter-parent-vs-filter-children" title="Direct link to heading">#</a></h4><p>{&quot; &quot;}</p><p>Depending on the context of the filter it will either filter the parent or the children.
In our example, we have a <code>PERSON</code> related to zero to N <code>FRIENDS</code> which are both of type people.</p><p>If you want to get all people with first name <code>John</code> the query is:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;John&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>If you want to get all people who have at least one friend with first name <code>John</code> the query is:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FRIENDS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">any</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;John&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The lambda <a href="/cloud-sdk/api/1.28.1/modules/sap_cloud_sdk_core#all" target="_blank" rel="noopener noreferrer">all</a> would enforce that all friends must have first name <code>John</code>.
The two queries above filter the parent entity person.</p><p>In case you want to get all people but reduce the friends in the response, the filter has to be inside the expand:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">expand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FRIENDS</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">People</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;John&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This will return all people but only the friends with the first name <code>John</code> will be included in the response.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="skip"></a>Skip<a class="hash-link" href="#skip" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p><code>skip</code> allows you to skip a number of results in the requested set.
It can be useful for paging:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">skip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="top"></a>Top<a class="hash-link" href="#top" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p><code>top</code> limits the number of returned results.
This can also be useful for paging:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">top</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The example above retrieves the first ten <code>BusinessPartner</code> entities.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="count"></a>Count<a class="hash-link" href="#count" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>The method <code>count()</code> allows you to get the number of elements in a collection.
It is only available for <code>getAll()</code> requests and is added before the request execution:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The return type of count requests is a <code>Promise&lt;number&gt;</code>.
You can combine the <code>count()</code> with filter conditions.
To get the number of business partners with first name <code>John</code> execute the following request:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;John&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>As defined in the OData spec <code>count</code> is not affected by <code>top</code>, <code>skip</code>, and <code>orderBy</code>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span><code>top()</code> and <code>skip()</code> are ignored for count</h5></div><div class="admonition-content"><p>If you include these methods in a count request they will be ignored by the SAP Cloud SDK.
So these three requests:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">BusinessPartner.requestBuilder().getAll().top(5).count();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">BusinessPartner.requestBuilder().getAll().skip(5).count();</span></div><div class="token-line" style="color:#393A34"><span class="token plain">BusinessPartner.requestBuilder().getAll().count();</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>will all return the same value.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Using count within a filter is not supported</h5></div><div class="admonition-content"><p>Note that we currently do not support the usage of count within a filter condition as described in the <a href="http://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part2-url-conventions.html#sec_AddressingtheCountofaCollection" target="_blank" rel="noopener noreferrer">OData v4 specification</a>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getbykey-request-builder"></a>GetByKey Request Builder<a class="hash-link" href="#getbykey-request-builder" title="Direct link to heading">#</a></h2><p>The GetByKey request builder allows you to create a request to retrieve one entity based on its key:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getByKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;id&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The example above retrieves the <code>BusinessPartner</code> with the id <code>&#x27;id&#x27;</code>.</p><p>The result can be restricted by applying the <a href="#select">select</a> function, same as in the <a href="#getall-request-builder">GetAll</a> request.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="create-request-builder"></a>Create Request Builder<a class="hash-link" href="#create-request-builder" title="Direct link to heading">#</a></h2><p>The Create request builder allows you to send a <code>POST</code> request to create a new entity:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> businessPartner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">builder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In the example above we created an instance of <code>BusinessPartner</code> and sent it to the <code>BusinessPartner</code> service in a <code>POST</code> request.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deep-create"></a>Deep Create<a class="hash-link" href="#deep-create" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>It is also possible to create an entity together with related entities in a single request:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// build a business partner instance with one linked address</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> businessPartner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">builder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">firstName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;John&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">lastName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Doe&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">businessPartnerCategory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toBusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">builder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">country</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;DE&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">postalCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;14469&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cityName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Potsdam&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">streetName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Konrad-Zuse-Ring&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">houseNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;10&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// execute the create request</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myDestination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>You can also create an entity <code>asChildOf</code> another entity.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="create-as-child-of"></a>Create as Child Of<a class="hash-link" href="#create-as-child-of" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>Assume you have already created a business partner and would like to add a new address to it:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> existingBusinessPartner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getByKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myDestination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> newAddress </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">builder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">country</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;DE&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">postalCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;14469&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cityName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Potsdam&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">streetName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Konrad-Zuse-Ring&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">houseNumber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;10&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This can be done by using the <code>asChildOf</code> method which allows creating an entity as a child of an existing entity.
You need to give the parent object and the field connecting the two entities:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">newAddress</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">asChildOf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    existingBusinessPartner</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">TO_BUSINESS_PARTNER_ADDRESS</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">myDestination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="update-request-builder"></a>Update Request Builder<a class="hash-link" href="#update-request-builder" title="Direct link to heading">#</a></h2><p>The Update request builder allows you to send <code>PUT</code> or <code>PATCH</code> requests.
By default <code>PATCH</code> is used to only update the changed fields:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In the example above only the changed fields of the given <code>businessPartner</code> instance are sent to the <code>BusinessPartner</code> service using <code>PATCH</code>.</p><p>To update the whole entity use <code>replaceWholeEntityWithPut</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">replaceWholeEntityWithPut</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>This will send a <code>PUT</code> request and thereby replace the whole entity.</p><p>Entities can only be updated if <a href="#handling-of-etags">ETags</a> match.
If you want to force an update of the entity regardless of the ETag configure the request to ignore version identifiers with <code>ignoreVersionIdentifier</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">ignoreVersionIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="delete-request-builder"></a>Delete Request Builder<a class="hash-link" href="#delete-request-builder" title="Direct link to heading">#</a></h2><p>The Delete request builder allows you to create <code>DELETE</code> requests, that delete an entity.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  The following won&#x27;t work on the real SAP S/4HANA BusinessPartner service because BusinessPartners cannot be deleted.</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  We added this only for the sake of the example.</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Entities can only be deleted if <a href="#handling-of-etags">ETags</a> match.
If you want to force deletion of the entity regardless of the ETag configure the request to ignore version identifiers with <code>ignoreVersionIdentifier</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">ignoreVersionIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>You can also overwrite ETags using <code>setVersionIdentifier</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">delete</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">businessPartner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setVersionIdentifier</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;etag&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>In the example above the ETag &#x27;ETag&#x27; is being used instead of the original one.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handling-of-etags"></a>Handling of ETags<a class="hash-link" href="#handling-of-etags" title="Direct link to heading">#</a></h2><div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="handling-of-cross-site-request-forgery-tokens"></a>Handling of Cross-Site Request Forgery Tokens<a class="hash-link" href="#handling-of-cross-site-request-forgery-tokens" title="Direct link to heading">#</a></h2><p>To create, update, and delete requests the SAP Cloud SDK will try to send a <a href="https://en.wikipedia.org/wiki/Cross-site_request_forgery#Cookie-to-header_token" target="_blank" rel="noopener noreferrer">CSRF token</a>.
Upon execution, the request will try to fetch a token first before issuing the create request.
Many services require this behavior for security reasons.
However, the create request will be made without a CSRF token if none could be obtained.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="available-filter-expressions"></a>Available Filter Expressions<a class="hash-link" href="#available-filter-expressions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="filter-functions"></a>Filter Functions<a class="hash-link" href="#filter-functions" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>There are predefined filter functions e.g. <code>length</code>, <code>substring</code>, <code>substringOf</code> in the core library, that allow for a wide range of filter expressions:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  Fetch all business partners who have a first name shorter than 5 letters</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">length</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">BusinessPartner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FIRST_NAME</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">lessThan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="function-imports"></a>Function Imports<a class="hash-link" href="#function-imports" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="request-builder"></a>Request Builder<a class="hash-link" href="#request-builder" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>The <a href="/cloud-sdk/api/1.28.1/classes/sap_cloud_sdk_core.functionimportrequestbuilderv2" target="_blank" rel="noopener noreferrer">function imports request builder</a> helps build a request for a service operation containing parameters in a type-safe way.
This time, as an example, the <a href="https://api.sap.com/api/API_WHSE_OUTB_DLV_ORDER/resource" target="_blank" rel="noopener noreferrer"><code>Warehouse Outbound Delivery Order Service</code></a> is used, because not all the services contain function imports like the <code>Business Partner Service</code>.
The type-safe client for the <code>Warehouse Outbound Delivery Order Service</code> can be found in the package <code>@sap/cloud-sdk-vdm-warehouse-outbound-delivery-order-service</code>.</p><p>The example below creates a function import request builder for the service operation <code>PostGoodsIssue</code> and then execute it against your service.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">postGoodsIssue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> outboundDeliveryOrder</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;order&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The service operation is defined in the service metadata.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="setting-etag"></a>Setting ETag<a class="hash-link" href="#setting-etag" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>The <code>ETag</code> handling with the function imports is not integrated.
Below is an example demonstrating how to make use of the <a href="/cloud-sdk/api/1.26.1/classes/sap_cloud_sdk_core.functionimportrequestbuilder-1#withcustomheaders" target="_blank" rel="noopener noreferrer"><code>withCustomHeaders</code></a> for setting <code>ETag</code> by your own.
In order to use <a href="/cloud-sdk/api/1.28.1/classes/sap_cloud_sdk_core.entityv2#versionidentifier" target="_blank" rel="noopener noreferrer"><code>versionIdentifier</code></a> for <code>ETag</code> value, make sure you fetch the entity information via e.g., a <code>get</code> request.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">postGoodsIssue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> outboundDeliveryOrder</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;order&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">withCustomHeaders</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;if-match&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> entity</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">versionIdentifier</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="known-issues"></a>Known Issues<a class="hash-link" href="#known-issues" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><ol><li>Currently, the <code>Entity Type</code> is not supported to be used as the parameters of the function import.
Function imports with such unsupported parameters are ignored during the generation.
This feature will be implemented in the future.
Please check this <a href="https://github.com/SAP/cloud-sdk-js/issues/707" target="_blank" rel="noopener noreferrer">issue</a> and comment if you need this feature.</li><li>Also, for the time being, we only support <code>unbound functions</code>.
The <code>bound functions</code> will be supported later, you can create a feature request <a href="https://github.com/SAP/cloud-sdk-js/issues/new?assignees=&amp;labels=feature+request&amp;template=feature_request.md&amp;title=" target="_blank" rel="noopener noreferrer">here</a>.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="action-imports"></a>Action Imports<a class="hash-link" href="#action-imports" title="Direct link to heading">#</a></h2><p>{&quot; &quot;}</p><p>Similar to the function import mentioned above, the <a href="https://sap.github.io/cloud-sdk/api/1.32.1/classes/sap_cloud_sdk_core.actionimportrequestbuilder" target="_blank" rel="noopener noreferrer">action import request builder</a> has the same structure, so you can build action requests the same way as the function import.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="known-issues-1"></a>Known Issues<a class="hash-link" href="#known-issues-1" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><ol><li>Similar to the <code>function import</code>, the <code>action import</code> does not support <code>Entity Type</code> as parameters.</li><li>Also, we only support <code>unbound actions</code> for now.
We plan to support <code>bound actions</code> in the future, please create a feature request <a href="https://github.com/SAP/cloud-sdk-js/issues/new?assignees=&amp;labels=feature+request&amp;template=feature_request.md&amp;title=" target="_blank" rel="noopener noreferrer">here</a>.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="batch-requests"></a>Batch Requests<a class="hash-link" href="#batch-requests" title="Direct link to heading">#</a></h2><p>OData batch requests combine multiple operations into one POST operation, allowing you to execute multiple requests with just one network call.
This can significantly reduce the network overhead you have to deal with when you want to execute a large number of requests.</p><p>An OData batch request can consist of a number of <a href="#retrieve-request">retrieve requests</a> and <a href="#changeset">changesets</a>.
Those can be combined arbitrarily.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="retrieve-request"></a>Retrieve Request<a class="hash-link" href="#retrieve-request" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>A retrieve request is any HTTP <code>GET</code> request.
In terms of the SAP Cloud SDK this includes all requests built by a <a href="#getall-request-builder">GetAllRequestBuilder</a> and <a href="#getbykey-request-builder">GetByKeyRequestBuilder</a>.</p><p>Retrieve requests can be passed directly to the <code>batch</code> function, which in turn can be executed once to execute all subrequests.
Once a batch request is executed it returns a list of <code>BatchResponse</code>s.
Those contain the raw response information of each subrequest, the subresponse to a retrieve subrequest can either be a <code>ReadResponse</code> or an <code>ErrorResponse</code>.
To determine if a request was successful use <code>.isSuccess()</code>.</p><p>Successful requests can be cast to <code>ReadResponse</code> which contains the HTTP code, the raw body, and the constructor of the entity that was parsed from the response.
To work with an instance of the retrieved entity, you can use the <code>.as</code> method, which allows you to transform the raw data into an instance of the given constructor.
Note, that retrieve responses can be <a href="#error-handling"><code>ErrorResponse</code>s</a>.
Therefore, it is crucial to check responses for success, before casting them to <code>ReadResponse</code>.</p><p>In the example below, each given address id is mapped to a <a href="#getbykey-request-builder">GetByKeyRequestBuilder</a>.
These retrieve requests are combined into one <code>batch</code> request and executed against a destination.</p><p>If one of the requests was not successful, an error will be thrown, otherwise, the responses are transformed into instances of <code>BusinessPartnerAddress</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getAddressesByIds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter">businessPartnerId</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"></span></div><div class="token-line" style="color:#393A34"><span class="token parameter">  addressIds</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> string</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> retrieveRequests </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> addressIds</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">addressId</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Create get by key request</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getByKey</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      businessPartnerId</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      addressId</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Execute batch request combining multiple retrieve requests</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> batchResponses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">batch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">retrieveRequests</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Error handling</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">batchResponses</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">response</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">isSuccess</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Some of the batch subrequests were not successful.&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> batchResponses</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reduce</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">addresses</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> BusinessPartnerAddress</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> response</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> BatchResponse</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">addresses</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Transform response to an instance of BusinessPartnerAddress</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token maybe-class-name">ReadResponse</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">as</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="changeset"></a>Changeset<a class="hash-link" href="#changeset" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>A changeset is a collection of HTTP <code>POST</code>, <code>PUT</code>, <code>PATCH</code> and <code>DELETE</code> operations - requests built by any <a href="#create-request-builder">CreateRequestBuilder</a>, <a href="#update-request-builder">UpdateRequestBuilder</a> and <a href="#delete-request-builder">DeleteRequestBuilder</a> in terms of the SAP Cloud SDK.
The order of execution within a changeset is not defined.
This differs from the whole batch request itself, where the order is defined.
Therefore the requests within a changeset should not depend on each other.
If the execution of any of the requests within a changeset fails, the whole changeset will be reflected as an error in the response and will not be applied, much like a database transaction.</p><p>Change requests cannot be passed to a batch request directly.
They have to be combined in a changeset, which in turn can be passed to the batch request.
Once a batch request is executed it returns a list of <code>BatchResponse</code>s.
Those contain the raw response information of each subrequest.
The response to a changeset request can either be a collection of the subresponses to the subrequests of the changeset of type <code>WriteResponses</code> or an <code>ErrorResponse</code>.
To determine if a request was successful use <code>.isSuccess()</code>.</p><p>Successful requests should be cast to <code>WriteResponses</code> which contains all subresponses for the changeset request.
Those responses can be accessed by <code>.responses</code> and have the type <code>WriteResponse</code>.
Each <code>WriteResponse</code> contains the HTTP code and can contain the raw body and the constructor of the entity that was parsed from the response, depending on whether there was a body in the response.
Create and delete requests typically do not have a response body.
To work with an instance of an entity given in a <code>WriteResponse</code>, you can use the <code>.as</code> method, which allows you to transform the raw string body into an instance of the given constructor.
Note that the response may not exist, so you should only call this method if you know that there is data.
Typically the HTTP code is a good indicator for this (<code>201 No Content</code> probably won&#x27;t have content).
If you are working with TypeScript you will have to tell the compiler, that the <code>.as!</code> method can be used here by adding a <code>!</code>.
Also note, that retrieve responses can be <a href="#error-handling"><code>ErrorResponse</code>s</a>.
Therefore, it is crucial to check responses for success, before casting them to <code>WriteResponses</code>.</p><p>In the example below, a list of addresses is mapped to <a href="#update-request-builder">UpdateRequestBuilder</a>s.
These change requests are combined to one <code>changeset</code>, which is passed to the <code>batch</code> request and executed against a destination.</p><p>Once the batch request is executed it returns a list of <code>BatchResponse</code>s, which in this example contains one response only, namely the one for the changeset.</p><p>If the request was not successful, an error will be thrown, otherwise, the subresponses are transformed into instances of <code>BusinessPartnerAddress</code>.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">updateAddresses</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token parameter">businessPartnerAddresses</span><span class="token parameter punctuation" style="color:#393A34">:</span><span class="token parameter"> BusinessPartnerAddress</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Create update requests</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> updateRequests </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> businessPartnerAddresses</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">address</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">requestBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">address</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Execute batch request with one changeset</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> batchResponses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">batch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Combine update requests into one changeset</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">changeset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">updateRequests</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Get response for the changeset request</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> changesetResonse </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> batchResponses</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Error handling</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">changesetResonse</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">isSuccess</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;The changeset request was not successful.&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">changesetResonse </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token maybe-class-name">WriteResponses</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">responses</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">response</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Transform response to an instance of BusinessPartnerAddress</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">as</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">BusinessPartnerAddress</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="combining-requests"></a>Combining Requests<a class="hash-link" href="#combining-requests" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="serialization"></a>Serialization<a class="hash-link" href="#serialization" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>By default when you execute a batch request, the subrequests are serialized to a multipart representation of the request, which is essentially a string.
This is what a create request for a business partner addresses would serialize to:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/http</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Content-Transfer-Encoding: binary</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">POST /sap/opu/odata/sap/API_BUSINESS_PARTNER/A_BusinessPartnerAddress HTTP/1.1</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Accept: application/json</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">{&quot;BusinessPartner&quot;:&quot;1&quot;,&quot;PostalCode&quot;:&quot;10001&quot;,&quot;City&quot;:&quot;New York&quot;,&quot;Country&quot;:&quot;USA&quot;}</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>The first lines are request headers for the multipart request, followed by a blank line.
The next line contains the request method and URL, followed by the request headers, a blank line, and the request payload.
Every &quot;atomic&quot; request is serialized to a string of this kind, while <code>GET</code> and <code>DELETE</code> requests do not provide a payload.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="configure-subrequest-serialization"></a>Configure Subrequest Serialization<a class="hash-link" href="#configure-subrequest-serialization" title="Direct link to heading">#</a></h3><p>{&quot; &quot;}</p><p>By default, URLs in the multipart representation of a request are serialized to a path relative to the service, e.g.:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">GET /sap/opu/odata/sap/API_BUSINESS_PARTNER/A_BusinessPartnerAddress?$format=json HTTP/1.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>However, some services might only understand URLs relative to the entity or even absolute URLs.</p><p>To configure the serialization of the URLs within a batch request, you can set the subrequest path type with <code>withSubRequestPathType</code>.
You can either set it to <code>&#x27;relativeToService&#x27;</code>, as is the default, <code>&#x27;relativeToEntity&#x27;</code>, which will yield URLs relative to the entity or <code>&#x27;absolute&#x27;</code>, which will produce absolute URLs.
See below for examples:</p><p>Serialize subrequest path relative to entity:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GET /A_BusinessPartnerAddress?$format=json HTTP/1.1</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">batch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">requests</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">withSubRequestPathType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;relativeToEntity&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Serialize subrequest path as absolute URL:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-ts codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GET https://my-s4.system.com/sap/opu/odata/sap/API_BUSINESS_PARTNER/A_BusinessPartnerAddress?$format=json HTTP/1.1</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">batch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">requests</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">withSubRequestPathType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;absolute&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/SAP/cloud-sdk/edit/main/docs/js/features/odata/odata-v4-client.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-12-09T16:12:24.000Z" class="docLastUpdatedAt_217_">12/9/2020</time> by <strong>Frank Essenberger</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cloud-sdk/docs/js/features/odata/use-odata-v2-type-safe-client-for-javascript-typescript"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Use the OData v2 Client</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cloud-sdk/docs/js/features/connectivity/destination"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Destinations Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getall-request-builder" class="table-of-contents__link">GetAll Request Builder</a><ul><li><a href="#select" class="table-of-contents__link">Select</a></li><li><a href="#filter" class="table-of-contents__link">Filter</a></li><li><a href="#expand" class="table-of-contents__link">Expand</a></li><li><a href="#skip" class="table-of-contents__link">Skip</a></li><li><a href="#top" class="table-of-contents__link">Top</a></li><li><a href="#count" class="table-of-contents__link">Count</a></li></ul></li><li><a href="#getbykey-request-builder" class="table-of-contents__link">GetByKey Request Builder</a></li><li><a href="#create-request-builder" class="table-of-contents__link">Create Request Builder</a><ul><li><a href="#deep-create" class="table-of-contents__link">Deep Create</a></li><li><a href="#create-as-child-of" class="table-of-contents__link">Create as Child Of</a></li></ul></li><li><a href="#update-request-builder" class="table-of-contents__link">Update Request Builder</a></li><li><a href="#delete-request-builder" class="table-of-contents__link">Delete Request Builder</a></li><li><a href="#handling-of-etags" class="table-of-contents__link">Handling of ETags</a></li><li><a href="#handling-of-cross-site-request-forgery-tokens" class="table-of-contents__link">Handling of Cross-Site Request Forgery Tokens</a></li><li><a href="#available-filter-expressions" class="table-of-contents__link">Available Filter Expressions</a><ul><li><a href="#filter-functions" class="table-of-contents__link">Filter Functions</a></li></ul></li><li><a href="#function-imports" class="table-of-contents__link">Function Imports</a><ul><li><a href="#request-builder" class="table-of-contents__link">Request Builder</a></li><li><a href="#setting-etag" class="table-of-contents__link">Setting ETag</a></li><li><a href="#known-issues" class="table-of-contents__link">Known Issues</a></li></ul></li><li><a href="#action-imports" class="table-of-contents__link">Action Imports</a><ul><li><a href="#known-issues-1" class="table-of-contents__link">Known Issues</a></li></ul></li><li><a href="#batch-requests" class="table-of-contents__link">Batch Requests</a><ul><li><a href="#retrieve-request" class="table-of-contents__link">Retrieve Request</a></li><li><a href="#changeset" class="table-of-contents__link">Changeset</a></li><li><a href="#combining-requests" class="table-of-contents__link">Combining Requests</a></li><li><a href="#serialization" class="table-of-contents__link">Serialization</a></li><li><a href="#configure-subrequest-serialization" class="table-of-contents__link">Configure Subrequest Serialization</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/overview/overview-cloud-sdk">SAP Cloud SDK overview</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/java/getting-started">SAP Cloud SDK for Java</a></li><li class="footer__item"><a class="footer__link-item" href="/cloud-sdk/docs/js/getting-started">SAP Cloud SDK for JS</a></li><li class="footer__item"><a href="https://developers.sap.com/tutorial-navigator.html?tag=products:technology-platform/sap-cloud-sdk/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK Tutorials</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Additional Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://developers.sap.com/topics/cloud-sdk.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Developers Portal</a></li><li class="footer__item"><a href="https://community.sap.com/topics/cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK Community Page</a></li><li class="footer__item"><a href="https://help.sap.com/viewer/product/SAP_CLOUD_SDK/1.0/en-US?task=discover_task" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK on SAP Help</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Package Repositories</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap-cloud-sdk" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK for JavaScript</a></li><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40sap%2Fcloud-sdk-vdm-*" target="_blank" rel="noopener noreferrer" class="footer__link-item">JS client libraries for SAP S/4HANA</a></li><li class="footer__item"><a href="https://search.maven.org/search?q=g:com.sap.cloud.sdk*" target="_blank" rel="noopener noreferrer" class="footer__link-item">SAP Cloud SDK for Java</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 SAP SE or an SAP affiliate company. All rights reserved.</div></div></div></footer></div>
<script src="/cloud-sdk/styles.d66fa4a3.js"></script>
<script src="/cloud-sdk/runtime~main.8e1a6a89.js"></script>
<script src="/cloud-sdk/main.ca26d32b.js"></script>
<script src="/cloud-sdk/1.ae6ecd5e.js"></script>
<script src="/cloud-sdk/125.78fcdb21.js"></script>
<script src="/cloud-sdk/129.8e8f09f8.js"></script>
<script src="/cloud-sdk/935f2afb.433c92dd.js"></script>
<script src="/cloud-sdk/124.576520c0.js"></script>
<script src="/cloud-sdk/fbc0e000.d6299e4e.js"></script>
<script src="/cloud-sdk/df104755.25693c91.js"></script>
<script src="/cloud-sdk/fdfdad92.ed611d28.js"></script>
</body>
</html>